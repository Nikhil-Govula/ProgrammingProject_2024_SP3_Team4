{% extends "base.html" %}

{% block head %}
    <title>My Profile</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block body %}
<div class="registration-container">
    <div class="form-container">
        <div class="register-card">
            <h2>My Profile</h2>

            <!-- Success Message -->
            {% if request.args.get('success') %}
                <p style="color: green;">{{ request.args.get('success') }}</p>
            {% endif %}

            <!-- Error Message -->
            {% if error %}
                <p style="color: red;">{{ error }}</p>
            {% endif %}

            <!-- Display User Information -->
            <div class="form-group">
                <label>Profile Picture:</label><br>
                <img src="{{ user.profile_picture_url or url_for('static', filename='images/default_profile.png') }}" alt="Profile Picture" class="profile-picture">
            </div>
            <div class="form-group">
                <label>First Name:</label>
                <p>{{ user.first_name }}</p>
            </div>
            <div class="form-group">
                <label>Last Name:</label>
                <p>{{ user.last_name }}</p>
            </div>
            <div class="form-group">
                <label>Email Address:</label>
                <p>{{ user.email }}</p>
            </div>
            <div class="form-group">
                <label>Phone Number:</label>
                <p>{{ user.phone_number }}</p>
            </div>
            <div class="form-group">
    <label>Location:</label>
    <p>{{ user.city }}, {{ user.country }}</p>
</div>

            <div class="form-group">
                <label>Certifications:</label>
                {% if user.certifications %}
                    <ul>
                        {% for cert in user.certifications %}
                            <li><a href="{{ cert.url }}" target="_blank">{{ cert.filename }}</a></li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>No certifications uploaded.</p>
                {% endif %}
            </div>

            <a href="{{ url_for('user_views.edit_profile') }}" class="register-button">Edit Profile</a>
            <hr>
            <a href="{{ url_for('user_views.change_password') }}" class="register-button">Change Password</a>
        </div>
    </div>
</div>
{% endblock %}