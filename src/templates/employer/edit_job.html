<!-- src/templates/employer/edit_job.html -->

{% extends "base.html" %}

{% block head %}
    <title>Edit Job Posting</title>
{% endblock %}

{% block body %}
<div class="content">
    <h2>Edit Job Posting</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="notification {{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <form method="POST">
        <div class="form-group">
            <label for="job_title">Job Title</label>
            <input type="text" name="job_title" id="job_title" value="{{ job.job_title }}" required>
        </div>
        <div class="form-group">
            <label for="description">Job Description</label>
            <textarea name="description" id="description" required>{{ job.description }}</textarea>
        </div>
        <div class="form-group">
            <label for="requirements">Requirements</label>
            <textarea name="requirements" id="requirements" required>{{ job.requirements }}</textarea>
        </div>
        <div class="form-group">
            <label for="salary">Salary</label>
            <input type="number" name="salary" id="salary" value="{{ job.salary }}" required>
        </div>
        <div class="form-group">
            <label for="location">Location</label>
            <input type="text" name="location" id="location" value="{{ job.location }}" required>
        </div>
        <div class="form-group">
            <label for="certifications">Certifications (Select multiple if applicable)</label>
            <select name="certifications" id="certifications" multiple>
                <!-- Populate with available certifications or allow free input -->
                <option value="Certification A" {% if 'Certification A' in job.certifications %}selected{% endif %}>Certification A</option>
                <option value="Certification B" {% if 'Certification B' in job.certifications %}selected{% endif %}>Certification B</option>
                <!-- Add more as needed -->
            </select>
        </div>
        <div class="form-group">
            <label for="skills">Skills (Select multiple if applicable)</label>
            <select name="skills" id="skills" multiple>
                <!-- Populate with available skills or allow free input -->
                <option value="Skill A" {% if 'Skill A' in job.skills %}selected{% endif %}>Skill A</option>
                <option value="Skill B" {% if 'Skill B' in job.skills %}selected{% endif %}>Skill B</option>
                <!-- Add more as needed -->
            </select>
        </div>
        <div class="form-group">
            <label for="work_history">Required Work History</label>
            <textarea name="work_history" id="work_history" required>{{ job.work_history }}</textarea>
        </div>
        <button type="submit" class="register-button">Update Job</button>
    </form>
</div>
{% endblock %}
